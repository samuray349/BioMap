<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioMap - Biodiversity Mapping</title>
    <link rel="stylesheet" href="css/styles.css">
  
  <!-- FontAwesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
<style>
    /* ============================================================= */
    /*  ESTILOS ESPEC√çFICOS PARA A P√ÅGINA DE LISTAGEM DE ANIMAIS     */
    /* ============================================================= */

.main-content {
    padding: 30px;
    max-width:90%;
    margin: 0 auto;
}

/* Cabe√ßalho da sec√ß√£o de resultados */
.results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    flex-wrap: wrap;
    gap: 15px;
}

.results-title {
    font-size: 2rem;
    font-weight: 600;
}

.sort-group {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
    position: relative;
}

.sort-group label {
    color: var(--text-medium);
    font-weight: bolder;
}

.select-input {
    padding: 8px 30px 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background: white;
    font-size: 1rem;
    appearance: none;
}

.sort-group::after {
    content: '\f078';
    font-family: "Font Awesome 6 Free";
    font-weight: 900;
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--accent-color);
    pointer-events: none;
}

/* Grid de cart√µes */
.cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(20%, 1fr));
    gap: 24px;
}

/* Cart√£o individual */
.card {
    background: #ffffff;
    border-radius: 12px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
}

.card:hover {
    transform: translateY(-6px);
}

.card-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

.card-content {
    padding: 18px;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 8px;
}

.card-header h3 {
    font-size: 1.35rem;
    font-weight: 600;
    color: var(--accent-color);
    margin: 0;
    line-height: 1.2;
}

/* Badges de estado de conserva√ß√£o */
.badge {
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    white-space: nowrap;
}

.badge.vulnerable      { background: #FFCC00; color: #fff; }   /* Amarelo */
.badge.threatened      { background: #99CC33; color: #fff; }   /* Verde */
.badge.endangered      { background: #FF6600; color: #fff; }   /* Laranja ‚Äì ajustado para "Em perigo" */
.badge.critical        { background: #FF0000; color: #fff; }   /* Vermelho */

/* Fam√≠lia + √≠cone */
.family {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-bottom: 10px;
    font-size: 0.95rem;
    color: var(--text-medium);
}

.family-icon {
    color: var(--accent-color);
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    font-size: 14px;
}

/* Descri√ß√£o */
.description {
    color: var(--text-medium);
    font-size: 0.94rem;
    line-height: 1.5;
    margin-bottom: 16px;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Bot√£o "Ver detalhes" */
.btn-details {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--accent-color);
    color: white;
    padding: 5px 16px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.95rem;
    transition: background 0.2s ease;
    margin-top: auto;
}

.btn-details:hover {
    background: var(--accent-hover);
}

.btn-details span {
    font-size: 1.1rem;
}

.sidebar-content{
    padding: 0 0 40px 0  ;
    flex-direction: row;
    align-items: flex-start;
}

.filter-section {
    display: flex;
    flex-direction: column;
}

.search-section {
    display: flex;
    flex-direction: column;
}

.search-section .search-wrapper {
    margin-top: calc(1rem * 1.5 + 4px); /* Match label line-height + margin-bottom to align with tag-input-wrapper */
}

.tag-input-wrapper{
    padding: 0px 40px 0px 12px;
    min-height: 50px;
    display: flex;
    align-items: center;
}

.search-section .search-input {
    height: 50px;
}

.order-input{
    position: relative;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
    border: 1px solid #198754;
    border-radius: 8px;
    padding: 8px 40px 8px 12px;
    background-color: #ffffff;
    cursor: text;
    padding: 0px 40px 0px 12px;
    height: 40px;
    font-size: 16px;
    color: #333;
    select{
        background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNSIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDUgMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSIxLjQgNC42NyAyLjUgMy4xOCAzLjYgNC42NyAxLjQgNC42NyIgZmlsbD0iIzE5ODc1NCIvPjxwb2x5Z29uIHBvaW50cz0iMy42IDUuMzMgMi41IDYuODIgMS40IDUuMzMgMy42IDUuMzMiIGZpbGw9IiMxOTg3NTQiLz48L3N2Zz4=) no-repeat 100% 50%;
    -moz-appearance: none;
    -webkit-appearance: none;
    appearance: none;
}
}

.search-section{
    width: 62%;
}

.sort-group:after{
    content: none;
}

.filter-section {
    max-width: 30%;
}

.filters-row{
    flex-direction: row-reverse;
    gap: 40px;
}

.filter-label {
    font-size: 1rem;
    font-weight: bolder;
    color: var(--text-medium);
    margin-bottom: 4px;
    display: block;
}

/* Responsividade extra para telas pequenas */
@media (max-width: 768px) {
    .cards-grid {
        grid-template-columns: 1fr;
    }
    
    .results-header {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .main-content {
        padding: 20px;
    }
}
</style>
</head>
<body>
    <div id="header-placeholder"></div>
    <!-- Main Content -->
    <main class="main-content">
        <!-- Search and Filters Section -->
        <div class="sidebar-content">
            <div class="search-section">
              <div class="search-wrapper">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="search-input" class="search-input" placeholder="Pesquisar">
              </div>
            </div>
    
            <div class="filters-row">
            
              <div class="filter-section">
                <label class="filter-label">Estado de conserva√ß√£o</label>
                <div class="tag-input-wrapper">
                  <input type="text" id="state-input" class="tag-input" placeholder="Selecionar estado de conserva√ß√£o" autocomplete="off">
                  <div class="tag-container" id="state-tags"></div>
                  <i class="fas fa-chevron-down filter-arrow"></i>
                  <div class="dropdown-menu" id="state-dropdown"></div>
                </div>
              </div>

              <div class="filter-section">
                <label class="filter-label">Fam√≠lia</label>
                <div class="tag-input-wrapper">
                  <input type="text" id="family-input" class="tag-input" placeholder="Selecionar fam√≠lia" autocomplete="off">
                  <div class="tag-container" id="family-tags"></div>
                  <i class="fas fa-chevron-down filter-arrow"></i>
                  <div class="dropdown-menu" id="family-dropdown"></div>
                </div>
              </div>
            </div>
          </div>
        <!-- Results Header -->
        <div class="results-header">
            <h2 class="results-title text-primary">Animais encontrados</h2>
            <div class="sort-group">
                <label>Ordenar por:</label>
                  <select class="order-input">
                      <option>Mais visto</option>
                  </select>
            </div>
        </div>
        <!-- Animal Cards Grid -->
        <div class="cards-grid">
            <!-- Card 1 -->
            <div class="card green-shadow">
                <img src="https://t4.ftcdn.net/jpg/10/64/99/85/360_F_1064998553_4RvqeSWINhkKJEyVLzidd8bUKtOV7hIc.jpg" alt="Lince ib√©rico" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>Lince ib√©rico</h3>
                        <span class="badge vulnerable">Vulner√°vel</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Fel√≠deos</span>
                    </div>
                    <p class="description">O lince-ib√©rico √© um felino de tamanho m√©dio, oriundo da Pen√≠nsula Ib√©rica...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
            <!-- Card 2 -->
            <div class="card green-shadow">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/0a/Standing_jaguar.jpg" alt="Jaguar" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>Jaguar</h3>
                        <span class="badge threatened">Quase amea√ßada</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Fel√≠deos</span>
                    </div>
                    <p class="description">Maior felino das Am√©ricas, possui pelagem amarelada com manchas pretas em formato...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
            <!-- Card 3 -->
            <div class="card green-shadow">
                <img src="https://i0.wp.com/revistaamazonia.com.br/wp-content/uploads/2025/05/7-fatos-incriveis-sobre-a-arara-azul-que-vao-alem-das-penas-coloridas.webp?fit=768%2C512&ssl=1" alt="Arara-azul-grande" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>Arara-azul-grande</h3>
                        <span class="badge vulnerable">Vulner√°vel</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Psittacidae</span>
                    </div>
                    <p class="description">Maior esp√©cie de arara do mundo, de plumagem azul intensa e bico robusto...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
            <!-- Card 4 -->
            <div class="card green-shadow">
                <img src="https://wildsideholidays.co.uk/wp-content/uploads/2020/07/The-European-wolf-Canis-Lupus.jpg" alt="Lobo-ib√©rico" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>Lobo-ib√©rico</h3>
                        <span class="badge endangered">Em perigo</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Canidae</span>
                    </div>
                    <p class="description">Subesp√©cie ib√©rica do lobo-cinzento, possui pelagem acastanhada com manchas escura...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
            <!-- Card 5 -->
            <div class="card green-shadow">
                <img src="https://ppl.pt/sites/default/files/projects/logo/AGUIA_IMPERIAL_IBERICA_JOSE_PESQUERO-1.jpg" alt="√Åguia-imperial-ib√©rica" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>√Åguia-imperial-ib√©rica</h3>
                        <span class="badge vulnerable">Vulner√°vel</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Accipitridae</span>
                    </div>
                    <p class="description">Grande ave de rapina end√™mica da Pen√≠nsula Ib√©rica, com plumagem escura e manchas...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
            <!-- Card 6 -->
            <div class="card green-shadow">
                <img src="https://cdn.britannica.com/71/227471-050-A1E23E6D/Saiga-tatarica-in-the-wild.jpg" alt="Saiga" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>Saiga</h3>
                        <span class="badge critical">Perigo cr√≠tico</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Bovidae</span>
                    </div>
                    <p class="description">Ant√≠lope de apar√™ncia singular, com um nariz grande e flex√≠vel que filtra o ar e regula a...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
            <!-- Card 7 -->
            <div class="card green-shadow">
                <img src="https://www.ndow.org/wp-content/uploads/2021/10/neovison_vison.jpg" alt="Vison" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>Vison</h3>
                        <span class="badge critical">Perigo cr√≠tico</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Mustelidae</span>
                    </div>
                    <p class="description">O vison √© um mam√≠fero carn√≠voro semiaqu√°tico, de corpo alongado, pelagem densa e brilhante...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
            <!-- Card 8 -->
            <div class="card green-shadow">
                <img src="https://live.staticflickr.com/6149/5998614697_45011f027b_b.jpg" alt="Lagarto-de-√°gua" class="card-image">
                <div class="card-content">
                    <div class="card-header">
                        <h3>Lagarto-de-√°gua</h3>
                        <span class="badge vulnerable">Vulner√°vel</span>
                    </div>
                    <div class="family">
                        <span class="family-icon"><i class="fa-solid fa-people-group"></i></span>
                        <span>Lacertidae</span>
                    </div>
                    <p class="description">Lagarto de m√©dio porte e colora√ß√£o verde viva com reflexos azulados no pesco√ßo...</p>
                    <a href="animal_desc.html" class="btn-details">
                        <span>üëÅ</span> Ver detalhes
                    </a>
                </div>
            </div>
        </div>
    </main>
    <script src="js/script.js"></script>
<script>
  loadHeader();
  highlightCurrentPage();
  
  // Initialize tag-input system for animais.html
  // Use separate arrays to avoid conflicts with index.html
  let animaisFamilyTags = [];
  let animaisStateTags = [];
  
  const familyOptions = [
    "Felidae", "Canidae", "Ursidae", "Mustelidae", 
    "Cervidae", "Suidae", "Leporidae", "Sciuridae",
    "Rodentia", "Chiroptera", "Carnivora", "Artiodactyla",
    "Fel√≠deos", "Canidae", "Psittacidae", "Accipitridae",
    "Lacertidae", "Bovidae", "Su√≠deos"
  ];
  
  const stateOptions = [
    "Em Perigo", "Vulner√°vel", "Quase Amea√ßado",
    "Pouco Preocupante", "Dados Insuficientes",
    "Extinto na Natureza", "Extinto", "Perigo cr√≠tico"
  ];
  
  // Initialize tag inputs when page is ready
  function initAnimaisTagInputs() {
    // Check if elements and function exist
    const familyInput = document.getElementById('family-input');
    const stateInput = document.getElementById('state-input');
    
    if (familyInput && stateInput && typeof initTagInputWithDropdown === 'function') {
      initTagInputWithDropdown("family-input", "family-tags", "family-dropdown", animaisFamilyTags, familyOptions);
      initTagInputWithDropdown("state-input", "state-tags", "state-dropdown", animaisStateTags, stateOptions);
    } else if (familyInput || stateInput) {
      // If elements exist but function doesn't, wait a bit and try again
      setTimeout(initAnimaisTagInputs, 100);
    }
  }
  
  // Try to initialize immediately (script.js should be loaded by now)
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAnimaisTagInputs);
  } else {
    // DOM is already ready
    initAnimaisTagInputs();
  }
</script>
</body>
</html>