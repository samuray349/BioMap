<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PawPals Map Explorer</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBPikkMWW5AerEd4av-nwnTgqksXuaUiws&callback=initMap" async defer></script>
    <style>
        #map {
            height: 100vh;
            width: 100%;
        }
        #sidebar {
            transition: transform 0.3s ease;
        }
        .sidebar-hidden {
            transform: translateX(100%);
        }
        .animal-marker {
            background-color: #4F46E5;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }
        .shelter-marker {
            background-color: #10B981;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen">
        <!-- Map Container -->
        <div id="map" class="flex-1"></div>

        <!-- Sidebar -->
        <div id="sidebar" class="sidebar-hidden absolute md:relative right-0 top-0 h-full w-full md:w-96 bg-white shadow-xl z-10 overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-indigo-600" id="sidebar-title">Details</h2>
                    <button id="close-sidebar" class="text-gray-500 hover:text-gray-700">
                        <i data-feather="x"></i>
                    </button>
                </div>
                
                <div id="sidebar-content">
                    <div class="flex flex-col items-center justify-center h-64">
                        <i data-feather="map-pin" class="w-16 h-16 text-gray-300 mb-4"></i>
                        <p class="text-gray-500">Select a marker to see details</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating action button -->
    <div class="fixed bottom-6 right-6 z-20">
        <button id="toggle-sidebar" class="bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transition-colors">
            <i data-feather="menu"></i>
        </button>
    </div>

    <script>
        // Initialize map
        function initMap() {
            const map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 37.7749, lng: -122.4194 }, // Default to San Francisco
                zoom: 12,
                styles: [
                    {
                        "featureType": "poi",
                        "elementType": "labels",
                        "stylers": [
                            { "visibility": "off" }
                        ]
                    }
                ]
            });

            // Sample data for animal shelters
            const shelters = [
                {
                    name: "Happy Paws Shelter",
                    location: { lat: 37.7749, lng: -122.4194 },
                    description: "Happy Paws Shelter is a state-certified no-kill facility operating since 2008, dedicated to rescuing and rehabilitating abandoned pets. Our 5,000 sqft facility houses over 75 animals at any time, including dogs, cats, rabbits, and occasional exotic pets. We provide medical care, behavioral training, and foster programs before adoption. Our team of 12 full-time staff and 50+ volunteers ensure each animal receives personalized attention. The shelter features climate-controlled kennels, outdoor play areas, and an on-site veterinary clinic. We've successfully placed over 3,000 animals in forever homes.",
                    image: "http://static.photos/animals/1024x576/1",
phone: "(415) 555-1234",
                    hours: "Mon-Fri: 9am-6pm (Adoptions until 5:30pm), Sat-Sun: 10am-4pm (Adoptions until 3:30pm)",
                    services: "Spay/Neuter Clinic, Vaccinations, Microchipping, Behavioral Training, Foster Program",
                    capacity: "75 animals",
                    founded: "2008"
},
                {
                    name: "Furry Friends Rescue",
                    location: { lat: 37.7813, lng: -122.4368 },
                    description: "Furry Friends Rescue is a volunteer-run 501(c)(3) non-profit specializing in senior and special needs pet adoptions. Founded in 2012, we operate through a network of foster homes across the Bay Area. Our unique 'Silver Paws' program matches senior citizens with senior pets, offering reduced adoption fees and ongoing support. We're particularly known for our hospice foster program for terminally ill animals. Unlike traditional shelters, we don't have a central facility - all animals live in loving foster homes where we can better assess their personality and needs. Annual adoption events include our popular 'Senior Pet Prom' and 'Golden Years Gala' fundraiser.",
                    image: "http://static.photos/animals/1024x576/2",
phone: "(415) 555-5678",
                    hours: "Tue-Sat: 10am-5pm (by appointment only)",
                    programs: "Senior Pet Adoption, Hospice Foster, Behavior Rehabilitation, Pet Food Pantry",
                    volunteers: "85 active fosters",
                    speciality: "Senior and special needs pets"
}
            ];

            // Sample data for animals
            const animals = [
                {
                    name: "Max",
                    type: "Dog",
                    breed: "Golden Retriever",
                    age: "3 years",
                    location: { lat: 37.7689, lng: -122.4284 },
                    description: "Max is a purebred Golden Retriever with excellent pedigree (AKC registered). This 3-year-old male weighs 75lbs and has a gorgeous golden coat. He's crate-trained, housebroken, and knows basic commands (sit, stay, come). Max thrives in active households - he loves hiking, swimming, and playing fetch. His previous family couldn't keep him due to relocation. He gets along wonderfully with children (tested with kids ages 5+) and other dogs. Requires daily exercise (minimum 60 minutes) and benefits from puzzle toys for mental stimulation. Current on all vaccinations (rabies, distemper, bordetella) and microchipped. Comes with complete medical records and favorite toys.",
                    image: "http://static.photos/dog/1024x576/1",
status: "Available for adoption",
                    medical: "Up-to-date on vaccinations, microchipped, neutered",
                    training: "Crate-trained, housebroken, basic obedience",
                    energy: "High - requires active lifestyle",
                    history: "Surrendered due to owner relocation"
},
                {
                    name: "Luna",
                    type: "Cat",
                    breed: "Domestic Shorthair",
                    age: "2 years",
                    location: { lat: 37.7802, lng: -122.4101 },
                    description: "Luna is a stunning domestic shorthair with sleek black fur and mesmerizing green eyes. This 2-year-old female was found as a stray and rehabilitated. She's exceptionally affectionate - loves curling up in laps and giving gentle headbutts. Luna is litterbox perfect and enjoys scratching posts. She prefers a calm environment (no young children or loud noises) and would do best as an only pet. Currently eats Hill's Science Diet for adult cats. Luna has been spayed, microchipped, and is current on vaccinations (FVRCP, rabies). She comes with her favorite plush bed and feather toy. Ideal for someone wanting a low-maintenance companion - she's content watching birds from windowsills and napping in sunbeams.",
                    image: "http://static.photos/cat/1024x576/1",
status: "Available for adoption",
                    personality: "Affectionate, calm, observant",
                    ideal_home: "Quiet household, no small children",
                    health: "Spayed, microchipped, vaccinated",
                    quirks: "Loves feather toys, sunbathing, ear scratches"
},
                {
                    name: "Rocky",
                    type: "Rabbit",
                    breed: "Holland Lop",
                    age: "1 year",
                    location: { lat: 37.7752, lng: -122.4029 },
                    description: "Rocky is a pedigreed Holland Lop bunny with perfect lopped ears and soft fawn-colored fur. This 1-year-old male is exceptionally friendly for a rabbit - enjoys being held and will nudge your hand for pets. He's fully litterbox trained (uses a corner box with paper litter) and chews appropriate toys. Rocky needs at least 4x4 feet of exercise space daily, preferably with ramps or platforms to explore. His diet consists of unlimited timothy hay, 1/4 cup pellets daily, and fresh greens (favorites are romaine and cilantro). Comes with his XL cage, travel carrier, and favorite willow balls. Rocky would do best in a home without predatory pets. Current on vaccinations (RHDV2) and neutered.",
                    image: "http://static.photos/rabbit/1024x576/1",
status: "Available for adoption",
                    care: "Litter trained, requires hay-based diet",
                    environment: "Needs spacious enclosure with daily exercise",
                    temperament: "Sociable, curious, gentle",
                    supplies: "Comes with cage, carrier, toys"
}
            ];

            // Add shelter markers
            shelters.forEach(shelter => {
                const marker = new google.maps.Marker({
                    position: shelter.location,
                    map: map,
                    icon: {
                        path: google.maps.SymbolPath.CIRCLE,
                        fillColor: '#10B981',
                        fillOpacity: 1,
                        strokeColor: '#ffffff',
                        strokeWeight: 1,
                        scale: 10
                    },
                    title: shelter.name
                });

                marker.addListener('click', () => {
                    showShelterDetails(shelter);
                });
            });

            // Add animal markers
            animals.forEach(animal => {
                const marker = new google.maps.Marker({
                    position: animal.location,
                    map: map,
                    icon: {
                        path: google.maps.SymbolPath.CIRCLE,
                        fillColor: '#4F46E5',
                        fillOpacity: 1,
                        strokeColor: '#ffffff',
                        strokeWeight: 1,
                        scale: 10
                    },
                    title: animal.name
                });

                marker.addListener('click', () => {
                    showAnimalDetails(animal);
                });
            });

            // Sidebar toggle functionality
            const sidebar = document.getElementById('sidebar');
            const toggleButton = document.getElementById('toggle-sidebar');
            const closeButton = document.getElementById('close-sidebar');

            toggleButton.addEventListener('click', () => {
                sidebar.classList.toggle('sidebar-hidden');
            });

            closeButton.addEventListener('click', () => {
                sidebar.classList.add('sidebar-hidden');
            });

            // Function to show shelter details
            function showShelterDetails(shelter) {
                document.getElementById('sidebar-title').textContent = shelter.name;
                document.getElementById('sidebar-content').innerHTML = `
                    <div class="space-y-4">
                        <img src="${shelter.image}" alt="${shelter.name}" class="w-full h-48 object-cover rounded-lg">
<div class="space-y-2">
                            <div class="flex items-start">
                                <i data-feather="home" class="mr-3 text-green-500 mt-1"></i>
                                <div>
                                    <p class="text-gray-700 font-medium">About Our Shelter:</p>
                                    <p class="text-gray-700">${shelter.description}</p>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                ${shelter.services ? `<div class="flex items-start">
                                    <i data-feather="plus" class="mr-3 text-green-500 mt-1"></i>
                                    <div>
                                        <p class="text-gray-700 font-medium">Services:</p>
                                        <p class="text-gray-700">${shelter.services}</p>
                                    </div>
                                </div>` : ''}
                                ${shelter.capacity ? `<div class="flex items-center">
                                    <i data-feather="users" class="mr-3 text-green-500"></i>
                                    <p class="text-gray-700"><span class="font-medium">Capacity:</span> ${shelter.capacity}</p>
                                </div>` : ''}
                                ${shelter.founded ? `<div class="flex items-center">
                                    <i data-feather="calendar" class="mr-3 text-green-500"></i>
                                    <p class="text-gray-700"><span class="font-medium">Founded:</span> ${shelter.founded}</p>
                                </div>` : ''}
                                ${shelter.programs ? `<div class="flex items-start">
                                    <i data-feather="list" class="mr-3 text-green-500 mt-1"></i>
                                    <div>
                                        <p class="text-gray-700 font-medium">Programs:</p>
                                        <p class="text-gray-700">${shelter.programs}</p>
                                    </div>
                                </div>` : ''}
                                ${shelter.volunteers ? `<div class="flex items-center">
                                    <i data-feather="user-plus" class="mr-3 text-green-500"></i>
                                    <p class="text-gray-700"><span class="font-medium">Volunteers:</span> ${shelter.volunteers}</p>
                                </div>` : ''}
                                ${shelter.speciality ? `<div class="flex items-center">
                                    <i data-feather="star" class="mr-3 text-green-500"></i>
                                    <p class="text-gray-700"><span class="font-medium">Speciality:</span> ${shelter.speciality}</p>
                                </div>` : ''}
                            </div>
</div>
<div class="flex items-center">
                            <i data-feather="phone" class="mr-3 text-green-500"></i>
                            <p class="text-gray-700">${shelter.phone}</p>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="clock" class="mr-3 text-green-500"></i>
                            <p class="text-gray-700">${shelter.hours}</p>
                        </div>
                        <div class="pt-4">
                            <button class="w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors">
                                Contact Shelter
                            </button>
                        </div>
                    </div>
                `;
                sidebar.classList.remove('sidebar-hidden');
                feather.replace();
            }

            // Function to show animal details
            function showAnimalDetails(animal) {
                document.getElementById('sidebar-title').textContent = animal.name;
                document.getElementById('sidebar-content').innerHTML = `
                    <div class="space-y-4">
                        <div class="flex items-center">
                            <i data-feather="info" class="mr-3 text-indigo-500"></i>
                            <p class="text-gray-700"><span class="font-semibold">Type:</span> ${animal.type}</p>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="tag" class="mr-3 text-indigo-500"></i>
                            <p class="text-gray-700"><span class="font-semibold">Breed:</span> ${animal.breed}</p>
                        </div>
                        <div class="flex items-center">
                            <i data-feather="calendar" class="mr-3 text-indigo-500"></i>
                            <p class="text-gray-700"><span class="font-semibold">Age:</span> ${animal.age}</p>
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-start">
                                <i data-feather="file-text" class="mr-3 text-indigo-500 mt-1"></i>
                                <div>
                                    <p class="text-gray-700 font-medium">Description:</p>
                                    <p class="text-gray-700">${animal.description}</p>
                                </div>
                            </div>
                            ${animal.medical ? `<div class="flex items-start">
                                <i data-feather="activity" class="mr-3 text-indigo-500 mt-1"></i>
                                <div>
                                    <p class="text-gray-700 font-medium">Medical:</p>
                                    <p class="text-gray-700">${animal.medical}</p>
                                </div>
                            </div>` : ''}
                            ${animal.training ? `<div class="flex items-center">
                                <i data-feather="award" class="mr-3 text-indigo-500"></i>
                                <p class="text-gray-700"><span class="font-medium">Training:</span> ${animal.training}</p>
                            </div>` : ''}
                            ${animal.history ? `<div class="flex items-center">
                                <i data-feather="book" class="mr-3 text-indigo-500"></i>
                                <p class="text-gray-700"><span class="font-medium">History:</span> ${animal.history}</p>
                            </div>` : ''}
                        </div>
<div class="flex items-center">
                            <i data-feather="heart" class="mr-3 text-indigo-500"></i>
                            <p class="text-gray-700 font-semibold">${animal.status}</p>
                        </div>
                        <div class="pt-4">
                            <button class="w-full bg-indigo-500 hover:bg-indigo-600 text-white py-2 px-4 rounded-lg transition-colors">
                                I'm Interested
                            </button>
                        </div>
                    </div>
                `;
                sidebar.classList.remove('sidebar-hidden');
                feather.replace();
            }
        }

        // Initialize feather icons
        document.addEventListener('DOMContentLoaded', () => {
            feather.replace();
        });
    </script>
</body>
</html>
